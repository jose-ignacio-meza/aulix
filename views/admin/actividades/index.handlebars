<head>
  <style>

  </style>
</head>
{{> navbar}}
<body>
    <div class="container-app">
    {{> sidebar}}
        <div class="main-content" style="justify-content: flex-start;">
            <div class="container">
              {{!-- Listado de actividades --}}
              <div class="container py-4">
                <div class="d-flex justify-content-between align-items-center mb-3">
                  <h1 class="h4">Actividades</h1>
                  <a href="/admin/crearActividades" class="btn btn-primary">Crear actividad</a>
                </div>

                {{#if actividades}}
                  <div class="row g-3">
                    {{#each actividades}}
                      <div class="col-12 col-md-6 col-lg-4">
                        <div class="card h-100 shadow-sm">
                          <div class="card-body d-flex flex-column">
                            <h5 class="card-title mb-2">{{nombre}}</h5>
                            {{#if descripcion}}
                              <p class="card-text text-muted mb-2" style="flex: 0 0 auto;">{{descripcion}}</p>
                            {{/if}}
                            <ul class="list-unstyled mb-3" style="flex: 0 0 auto;">
                              {{#if area}}
                                <li><strong>Área:</strong> {{area.nombre}}</li>
                              {{/if}}
                              {{#if createdAt}}
                                <li><small class="text-muted">Creada: {{ createdAt}}</small></li>
                              {{/if}}
                            </ul>

                            <div class="mt-auto d-flex gap-2">
                              <a href="/admin/actividades/{{_id}}" class="btn btn-sm btn-outline-primary">Ver</a>
                              <a href="/admin/actividades/{{_id}}/editar" class="btn btn-sm btn-outline-secondary">Editar</a>

                              <form action="/admin/eliminarActividades/{{_id}}" method="POST" class="ms-auto" onsubmit="return confirm('¿Confirma eliminar esta actividad?');">
                                <button type="submit" class="btn btn-sm btn-outline-danger">Eliminar</button>
                              </form>
                            </div>
                          </div>
                        </div>
                      </div>
                    {{/each}}
                  </div>
                {{else}}
                  <div class="alert alert-info">No hay actividades registradas.</div>
                {{/if}}
              </div>
            </div>
        </div>
    </div>
</body>